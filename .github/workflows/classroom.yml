name: Autograding Tests
'on':
  - push
  - repository_dispatch
permissions:
  checks: write
  actions: read
  contents: read

jobs:
  # JOB: ÐžÐ¦Ð•ÐÐšÐ Ð—ÐÐ”ÐÐÐ˜Ð™ (3 Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸)
  grade-tasks:
    name: ÐžÑ†ÐµÐ½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð²ÑÐµÑ… Ð·Ð°Ð´Ð°Ñ‡
    runs-on: ubuntu-latest
    if: github.actor != 'github-classroom[bot]'
    
    strategy:
      matrix:
        task: [1, 2, 3]
      max-parallel: 3
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.x'
    
    # ============ Ð—ÐÐ”ÐÐ§Ð 1: ÐšÐÐ›Ð¬ÐšÐ£Ð›Ð¯Ð¢ÐžÐ  ============
    - name: "[TASK 1] Ð¡Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"
      if: matrix.task == 1
      id: task1_add
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 1: Ð¡Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"
        command: python task_01.py
        input: |
          5
          +
          3
        expected-output: '8'
        comparison-method: exact
        timeout: 5
        max-score: 10
    
    - name: "[TASK 1] Ð’Ñ‹Ñ‡Ð¸Ñ‚Ð°Ð½Ð¸Ðµ"
      if: matrix.task == 1
      id: task1_sub
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 1: Ð’Ñ‹Ñ‡Ð¸Ñ‚Ð°Ð½Ð¸Ðµ"
        command: python task_01.py
        input: |
          10
          -
          4
        expected-output: '6'
        comparison-method: exact
        timeout: 5
        max-score: 10
    
    - name: "[TASK 1] Ð”ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð½Ð¾Ð»ÑŒ"
      if: matrix.task == 1
      id: task1_div_zero
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 1: Ð”ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð½Ð¾Ð»ÑŒ"
        command: python task_01.py
        input: |
          10
          /
          0
        expected-output: 'error'
        comparison-method: contains
        timeout: 5
        max-score: 10
    
    # ============ Ð—ÐÐ”ÐÐ§Ð 2: ÐŸÐÐ›Ð˜ÐÐ”Ð ÐžÐœ ============
    - name: "[TASK 2] ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ð°Ð»Ð¸Ð½Ð´Ñ€Ð¾Ð¼"
      if: matrix.task == 2
      id: task2_simple
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 2: ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ð°Ð»Ð¸Ð½Ð´Ñ€Ð¾Ð¼"
        command: python task_02.py
        input: "racecar"
        expected-output: 'True'
        comparison-method: exact
        timeout: 5
        max-score: 15
    
    - name: "[TASK 2] ÐÐµ Ð¿Ð°Ð»Ð¸Ð½Ð´Ñ€Ð¾Ð¼"
      if: matrix.task == 2
      id: task2_not_palindrome
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 2: ÐÐµ Ð¿Ð°Ð»Ð¸Ð½Ð´Ñ€Ð¾Ð¼"
        command: python task_02.py
        input: "hello"
        expected-output: 'False'
        comparison-method: exact
        timeout: 5
        max-score: 15
    
    - name: "[TASK 2] ÐŸÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°"
      if: matrix.task == 2
      id: task2_empty
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 2: ÐŸÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°"
        command: python task_02.py
        input: ""
        expected-output: 'True'
        comparison-method: exact
        timeout: 5
        max-score: 10
    
    # ============ Ð—ÐÐ”ÐÐ§Ð 3: Ð¤Ð˜Ð‘ÐžÐÐÐ§Ð§Ð˜ ============
    - name: "[TASK 3] Fibonacci(0)"
      if: matrix.task == 3
      id: task3_fib0
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 3: Fibonacci(0)"
        command: python task_03.py
        input: "0"
        expected-output: '0'
        comparison-method: exact
        timeout: 5
        max-score: 10
    
    - name: "[TASK 3] Fibonacci(1)"
      if: matrix.task == 3
      id: task3_fib1
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 3: Fibonacci(1)"
        command: python task_03.py
        input: "1"
        expected-output: '1'
        comparison-method: exact
        timeout: 5
        max-score: 10
    
    - name: "[TASK 3] Fibonacci(10)"
      if: matrix.task == 3
      id: task3_fib10
      uses: classroom-resources/autograding-io-grader@v1
      with:
        test-name: "Ð—Ð°Ð´Ð°Ñ‡Ð° 3: Fibonacci(10)"
        command: python task_03.py
        input: "10"
        expected-output: '55'
        comparison-method: exact
        timeout: 5
        max-score: 20
    
    # ============ Ð¡ÐžÐ‘Ð˜Ð ÐÐ•Ðœ Ð‘ÐÐ›Ð›Ð« ============
    - name: Save Scores
      if: always()
      run: |
        # ÐŸÑ€Ð¾ÑÑ‚Ð¾ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð±Ð°Ð»Ð»Ñ‹ Ð² Ñ„Ð°Ð¹Ð»
        echo "TASK${{ matrix.task }}_SCORE=0" > scores.txt
        echo "TASK${{ matrix.task }}_SCORE calculated" >> scores.txt
    
    - name: Upload Scores Artifact
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: scores-task-${{ matrix.task }}
        path: scores.txt

  # JOB: Ð¡Ð‘ÐžÐ ÐšÐ Ð˜Ð¢ÐžÐ“ÐžÐ’ÐžÐ™ Ð¡Ð’ÐžÐ”ÐšÐ˜
  generate-final-report:
    name: Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ ÑÐ²Ð¾Ð´ÐºÐ°
    runs-on: ubuntu-latest
    needs: grade-tasks
    if: always()
    
    steps:
    - name: Download all score artifacts
      uses: actions/download-artifact@v4
      with:
        path: ./artifacts
        pattern: scores-task-*
        merge-multiple: true
    
    - name: Calculate Total Scores
      id: calculate
      run: |
        # ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°: ÐµÑÐ»Ð¸ Ñ„Ð°Ð¹Ð» Ð·Ð°Ð´Ð°Ñ‡Ð¸ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¸ Ð¸Ð¼ÐµÐµÑ‚ ÐºÐ¾Ð´ > 0, Ð´Ð°ÐµÐ¼ Ð±Ð°Ð»Ð»Ñ‹
        TASK1_SCORE=0
        TASK2_SCORE=0
        TASK3_SCORE=0
        
        # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð·Ð°Ð´Ð°Ñ‡
        if [ -f "task_01.py" ]; then
          TASK1_SCORE=10  # ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð±Ð°Ð»Ð»Ñ‹ Ð·Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð°
        fi
        
        if [ -f "task_02.py" ]; then
          TASK2_SCORE=10
        fi
        
        if [ -f "task_03.py" ]; then
          TASK3_SCORE=10
        fi
        
        # ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð±Ð°Ð»Ð»Ñ‹
        TASK1_MAX=30
        TASK2_MAX=40
        TASK3_MAX=40
        
        TOTAL_SCORE=$((TASK1_SCORE + TASK2_SCORE + TASK3_SCORE))
        MAX_SCORE=$((TASK1_MAX + TASK2_MAX + TASK3_MAX))
        
        # Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð² outputs
        echo "task1_score=$TASK1_SCORE" >> $GITHUB_OUTPUT
        echo "task2_score=$TASK2_SCORE" >> $GITHUB_OUTPUT
        echo "task3_score=$TASK3_SCORE" >> $GITHUB_OUTPUT
        echo "total_score=$TOTAL_SCORE" >> $GITHUB_OUTPUT
        echo "max_score=$MAX_SCORE" >> $GITHUB_OUTPUT
    
    - name: Generate Final Summary
      run: |
        TASK1_SCORE=${{ steps.calculate.outputs.task1_score || 0 }}
        TASK2_SCORE=${{ steps.calculate.outputs.task2_score || 0 }}
        TASK3_SCORE=${{ steps.calculate.outputs.task3_score || 0 }}
        TOTAL_SCORE=${{ steps.calculate.outputs.total_score || 0 }}
        MAX_SCORE=${{ steps.calculate.outputs.max_score || 110 }}
        
        # Ð Ð°ÑÑ‡ÐµÑ‚ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð°
        if [ "$MAX_SCORE" -gt 0 ]; then
          PERCENTAGE=$((TOTAL_SCORE * 100 / MAX_SCORE))
        else
          PERCENTAGE=0
        fi
        
        # Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
        get_task_status() {
          local score="$1"
          local max="$2"
          if [ "$max" -eq 0 ]; then
            echo "â“"
          elif [ "$score" -eq "$max" ]; then
            echo "âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾"
          elif [ "$score" -ge $((max * 80 / 100)) ]; then
            echo "âš ï¸ Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾"
          elif [ "$score" -ge $((max * 60 / 100)) ]; then
            echo "âš ï¸ Ð£Ð´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾"
          else
            echo "âŒ ÐÐµ ÑÐ´Ð°Ð½Ð¾"
          fi
        }
        
        TASK1_STATUS=$(get_task_status "$TASK1_SCORE" 30)
        TASK2_STATUS=$(get_task_status "$TASK2_SCORE" 40)
        TASK3_STATUS=$(get_task_status "$TASK3_SCORE" 40)
        
        # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°
        echo "## ðŸ“Š Ð˜Ð¢ÐžÐ“ÐžÐ’Ð«Ð™ ÐžÐ¢Ð§Ð•Ð¢ ÐŸÐž Ð’Ð¡Ð•Ðœ Ð—ÐÐ”ÐÐÐ˜Ð¯Ðœ" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        echo "### ðŸ“ˆ Ð¡Ð²Ð¾Ð´Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "| Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ | Ð‘Ð°Ð»Ð»Ñ‹ | ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |" >> $GITHUB_STEP_SUMMARY
        echo "|---------|-------|----------|--------|" >> $GITHUB_STEP_SUMMARY
        echo "| **Ð—Ð°Ð´Ð°Ñ‡Ð° 1: ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€** | $TASK1_SCORE | 30 | $TASK1_STATUS |" >> $GITHUB_STEP_SUMMARY
        echo "| **Ð—Ð°Ð´Ð°Ñ‡Ð° 2: ÐŸÐ°Ð»Ð¸Ð½Ð´Ñ€Ð¾Ð¼** | $TASK2_SCORE | 40 | $TASK2_STATUS |" >> $GITHUB_STEP_SUMMARY
        echo "| **Ð—Ð°Ð´Ð°Ñ‡Ð° 3: Ð§Ð¸ÑÐ»Ð° Ð¤Ð¸Ð±Ð¾Ð½Ð°Ñ‡Ñ‡Ð¸** | $TASK3_SCORE | 40 | $TASK3_STATUS |" >> $GITHUB_STEP_SUMMARY
        echo "| **Ð’Ð¡Ð•Ð“Ðž** | **$TOTAL_SCORE** | **$MAX_SCORE** | **$PERCENTAGE%** |" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        # Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ„Ð°Ð¹Ð»Ð°Ñ…
        echo "### ðŸ“ ÐÐ°Ð¹Ð´ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        if [ -f "task_01.py" ]; then
          echo "âœ… **task_01.py** - Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        else
          echo "âŒ **task_01.py** - Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        fi
        
        if [ -f "task_02.py" ]; then
          echo "âœ… **task_02.py** - Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        else
          echo "âŒ **task_02.py** - Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        fi
        
        if [ -f "task_03.py" ]; then
          echo "âœ… **task_03.py** - Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        else
          echo "âŒ **task_03.py** - Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
        fi
        
        echo "" >> $GITHUB_STEP_SUMMARY
        
        # ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€
        echo "### ðŸ“Š ÐžÐ±Ñ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "<div style='background: #e1e4e8; border-radius: 4px; height: 24px; width: 100%; margin: 10px 0;'>" >> $GITHUB_STEP_SUMMARY
        echo "  <div style='background: #2ea44f; border-radius: 4px; height: 100%; width: $PERCENTAGE%; text-align: center; color: white; font-weight: bold; line-height: 24px;'>" >> $GITHUB_STEP_SUMMARY
        echo "    $PERCENTAGE%" >> $GITHUB_STEP_SUMMARY
        echo "  </div>" >> $GITHUB_STEP_SUMMARY
        echo "</div>" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        # Ð¤Ð¸Ð½Ð°Ð»
        echo "### ðŸ† Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ°: **$TOTAL_SCORE / $MAX_SCORE**" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        if [ "$TOTAL_SCORE" -eq "$MAX_SCORE" ]; then
          echo "ðŸŽ‰ **ÐŸÐžÐ—Ð”Ð ÐÐ’Ð›Ð¯Ð•Ðœ! Ð’ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹ Ð½Ð° 100%!**" >> $GITHUB_STEP_SUMMARY
        elif [ "$PERCENTAGE" -ge 80 ]; then
          echo "ðŸ‘ **ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚! ÐŸÐ¾Ñ‡Ñ‚Ð¸ Ð²ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹.**" >> $GITHUB_STEP_SUMMARY
        elif [ "$PERCENTAGE" -ge 60 ]; then
          echo "âš ï¸ **Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°, Ð½Ð¾ ÐµÑÑ‚ÑŒ ÐºÑƒÐ´Ð° Ñ€Ð°ÑÑ‚Ð¸.**" >> $GITHUB_STEP_SUMMARY
        else
          echo "âŒ **ÐÑƒÐ¶Ð½Ð¾ ÑÐµÑ€ÑŒÐµÐ·Ð½Ð¾ Ð¿Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð°Ð´ Ð·Ð°Ð´Ð°Ð½Ð¸ÑÐ¼Ð¸.**" >> $GITHUB_STEP_SUMMARY
        fi
        
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "*ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°* â€¢ $(date)" >> $GITHUB_STEP_SUMMARY
    
    - name: Report to GitHub Classroom
      uses: classroom-resources/autograding-grading-reporter@v1
      with:
        runners: "task_01:${{ steps.calculate.outputs.task1_score || 0 }},task_02:${{ steps.calculate.outputs.task2_score || 0 }},task_03:${{ steps.calculate.outputs.task3_score || 0 }}"

  # JOB: ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ ÐšÐÐ§Ð•Ð¡Ð¢Ð’Ð ÐšÐžÐ”Ð (ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð°Ñ)
  code-quality-check:
    name: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð°
    runs-on: ubuntu-latest
    needs: grade-tasks
    if: always()
    
    steps:
    - uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: "3.10"

    - name: Install linters
      run: pip install pylint flake8 ruff -q

    - name: Analyze student code
      run: |
        echo "## ðŸ” ÐÐÐÐ›Ð˜Ð— ÐšÐÐ§Ð•Ð¡Ð¢Ð’Ð ÐšÐžÐ”Ð" >> $GITHUB_STEP_SUMMARY
        echo "### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð·Ð°Ð´Ð°Ñ‡" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð°Ð¹Ð»Ñ‹ Ð·Ð°Ð´Ð°Ñ‡
        TASK_FILES="task_01.py task_02.py task_03.py"
        
        echo "### ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        for file in $TASK_FILES; do
          if [ ! -f "$file" ]; then
            continue
          fi
          
          echo "#### ðŸ“„ **$file**" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          # Ruff Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
          echo "##### âš¡ Ruff:" >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY
          ruff check "$file" 2>&1 | head -10 >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          # ÐžÑ†ÐµÐ½ÐºÐ° Pylint
          echo "##### ðŸ PyLint Ð¾Ñ†ÐµÐ½ÐºÐ°:" >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY
          pylint "$file" --exit-zero --score=yes 2>&1 | tail -3 >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "---" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
        done
        
        echo "### ðŸ’¡ Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸ÑŽ ÐºÐ¾Ð´Ð°:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "1. **Ð˜ÑÐ¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ruff:**" >> $GITHUB_STEP_SUMMARY
        echo '   ```bash' >> $GITHUB_STEP_SUMMARY
        echo '   ruff check --fix .' >> $GITHUB_STEP_SUMMARY
        echo '   ```' >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "2. **Ð¡Ð»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ PEP 8:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ 4 Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð° Ð´Ð»Ñ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ð¾Ð²" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "3. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ ÐºÐ¾Ð´ Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹**" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "*ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ¾Ð´Ð° ÑƒÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐµ!*" >> $GITHUB_STEP_SUMMARY